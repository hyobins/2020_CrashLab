{% load static %}
fEATURE-Policy: autoplay 'self'
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        video {width: 100%; height:97%; display: block; margin: 0; padding : 0; }

      </style>

</head>
<body style="background-color: black; margin:0px; padding : 0;">
        <video id="player">
            <source src="{% static 'media/sample2.mp4' %}" type="video/mp4">
            Error!
        </video>


    <script>
	var autoplayVideoInterval = setInterval("autoplayVideo()",200);

	function autoplayVideo(){
		var promise = document.querySelector('#player').play();
		if(promise !== undefined){ 
			promise.then(function(_) {
			clearInterval(autoplayVideoInterval);
			}).catch(function (error) {
	});
	}	
	}
    </script>
  
    <script>
        function sleep (delay) {
            var start = new Date().getTime();
            while (new Date().getTime() < start + delay);
        }
    </script>

    <script type="text/javascript">
    document.getElementById('player').addEventListener('ended', function(){
        sleep(1000);
        location.href='menu'
    });
    </script>


   <!-- <script>
        var video = document.getElementById("player");
        var button = document.getElementById("button");
        button.addEventListener("click", function(e) {
        console.log(video.duration);
        video.play();
        video.pause();
        video.currentTime = video.duration;
});

    </script>
-->
</body>
</html>
